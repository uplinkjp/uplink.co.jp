"use strict";var UPLINK={};UPLINK={init:function(){$(function(){UPLINK.bind()})},bind:function(){$(window).on("load",function(){UPLINK.onload(),$(this).on("scroll",function(){UPLINK.onscroll()}).on("resize",function(){UPLINK.onresize()})}),UPLINK.sticky.init();var e=null;$(document).on("click",'a[href^="#"]',function(){e&&clearTimeout(e);var a=$(this).attr("href"),n=$("#"==a||""===a?"html":a);return UPLINK.header.closeMainNav(),UPLINK.header.closeSubNav(),e=setTimeout(function(){var e=n.offset().top;$("html,body").animate({scrollTop:e},300,$.bez([.8,0,.3,1]))},300),!1})},onload:function(){UPLINK.slick.init(),UPLINK.header.init()},onscroll:function(){var e=$(window).scrollTop();UPLINK.header.scroll(e)},onresize:function(){var e=$(window).width();UPLINK.header.resize(e),UPLINK.sticky.resize(e)}},UPLINK.init(),UPLINK.getDisplayType={get:function(e){var a=null;return e<=767?a="sp":768<=e&&e<=1024?a="tb":1025<e&&(a="pc"),a}},UPLINK.header={$el:null,$main:null,$sub:null,$mainClone:null,$subClone:null,sl_mainNavTrigger:null,sl_subNavTrigger:null,main_height:null,sub_height:null,_st:0,isScroll:!1,isFrontPage:!1,is2ndPage:!1,is3rdPage:!1,isPC:!1,isTB:!1,isSP:!1,defMainOpen:!1,defSubOpen:!1,isMainNavOpen:!1,isSubNavOpen:!1,init:function(){UPLINK.header.$el=$(".js-headerWrap"),UPLINK.header.$main=$(".l-nav"),UPLINK.header.$sub=$(".l-header_sub"),UPLINK.header.sl_mainNavTrigger=".js-mainNavTrigger",UPLINK.header.sl_subNavTrigger=".js-subNavTrigger",UPLINK.header.isFrontPage=!!$(".type-frontpage").length,UPLINK.header.is2ndPage=!!$(".type-2nd").length,UPLINK.header.is3rdPage=!!$(".type-3rd").length,UPLINK.header.$mainClone=UPLINK.header.$main.clone(),UPLINK.header.$mainClone.addClass("is-clone"),$("body").append(UPLINK.header.$mainClone),$(".l-nav.is-clone").wrap('<div class="js-main-clone"></div>'),UPLINK.header.$subClone=UPLINK.header.$sub.clone(),UPLINK.header.$subClone.addClass("is-clone"),$("body").append(UPLINK.header.$subClone),$(".l-header_sub.is-clone").wrap('<div class="js-sub-clone"></div>'),UPLINK.header.resize($(window).width()),UPLINK.header.scroll(0),UPLINK.header.bind()},bind:function(){$(document).on("click",UPLINK.header.sl_mainNavTrigger,function(){return UPLINK.header.isMainNavOpen?UPLINK.header.closeMainNav():UPLINK.header.openMainNav(),!1}).on("click",UPLINK.header.sl_subNavTrigger,function(){return UPLINK.header.isSubNavOpen?UPLINK.header.closeSubNav():UPLINK.header.openSubNav(),!1})},setSize:function(e){UPLINK.header.isPC=!1,UPLINK.header.isTB=!1,UPLINK.header.isSP=!1;var a=UPLINK.getDisplayType.get(e);"sp"==a&&(UPLINK.header.isSP=!0),"tb"==a&&(UPLINK.header.isTB=!0),"pc"==a&&(UPLINK.header.isPC=!0)},setDefault:function(){UPLINK.header.defMainOpen=!1,UPLINK.header.defSubOpen=!1,UPLINK.header.isFrontPage?UPLINK.header.defMainOpen=!0:UPLINK.header.is2ndPage?UPLINK.header.isTB?UPLINK.header.defSubOpen=!0:UPLINK.header.isPC&&(UPLINK.header.defMainOpen=!0,UPLINK.header.defSubOpen=!0):UPLINK.header.is3rdPage&&UPLINK.header.isPC&&(UPLINK.header.defMainOpen=!0)},doInit:function(){UPLINK.header.defMainOpen?UPLINK.header.openMainNav():UPLINK.header.closeMainNav(),UPLINK.header.defSubOpen?UPLINK.header.openSubNav():UPLINK.header.closeSubNav()},resize:function(e){UPLINK.header.main_height=UPLINK.header.$mainClone.outerHeight(),UPLINK.header.sub_height=UPLINK.header.$subClone.height(),UPLINK.header.setSize(e),UPLINK.header.setDefault(),UPLINK.header.scroll(UPLINK.header._st)},scroll:function(e){e>300?($("body").addClass("is-scroll"),UPLINK.header.isScroll=!0,UPLINK.header.isMainNavOpen&&UPLINK.header.closeMainNav(),UPLINK.header.isSubNavOpen&&UPLINK.header.closeSubNav(),e<UPLINK.header._st?$("body").addClass("is-navfixed"):$("body").removeClass("is-navfixed")):(UPLINK.header.isScroll=!1,$("body").removeClass("is-scroll").removeClass("is-navfixed"),UPLINK.header.doInit()),e>400?setTimeout(function(){$("body").addClass("is-subNavTriggerFix")},100):$("body").removeClass("is-subNavTriggerFix"),UPLINK.header._st=e},openMainNav:function(){UPLINK.header.isMainNavOpen=!0,$("body").addClass("main-open"),UPLINK.header.isScroll?UPLINK.header.shuffleFadein(".l-nav.is-clone"):UPLINK.header.$el.css({"margin-top":"0px"})},closeMainNav:function(){UPLINK.header.isMainNavOpen=!1,UPLINK.header.opacity0(".l-nav.is-clone"),$("body").removeClass("main-open"),UPLINK.header.isScroll||UPLINK.header.$el.css({"margin-top":-UPLINK.header.main_height+"px"})},openSubNav:function(){UPLINK.header.$sub.length&&(UPLINK.header.isSubNavOpen=!0,$("body").addClass("sub-open"),UPLINK.header.isScroll?(UPLINK.header.shuffleFadein(".is-clone .l-nav_sub"),$("body").addClass("is-navfixed")):UPLINK.header.$sub.css({height:UPLINK.header.sub_height+"px"}))},closeSubNav:function(){UPLINK.header.$sub.length&&(UPLINK.header.isSubNavOpen=!1,UPLINK.header.opacity0(".is-clone .l-nav_sub"),UPLINK.header.isScroll?$("body").removeClass("is-navfixed"):UPLINK.header.$sub.css({height:"100px"}),$("body").removeClass("sub-open"))},shuffleFadein:function(e){var a=function(){return Math.random()-.5},n=$(e).eq(0).find("a, .form-googlesearch-text, .form-googlesearch"),i=(n.length,new Array),s=0;n.each(function(){i[s]=500+30*s,s++}),i=i.sort(a);var r=0;n.each(function(){n.eq(r).delay(i[r]).animate({opacity:1},30),r++})},opacity0:function(e){var a=$(e).eq(0).find("a, .form-googlesearch-text, .form-googlesearch");a.css({opacity:0})}},UPLINK.scrollBan={_currentPos:0,init:function(){},ban:function(e){UPLINK.scrollBan._currentPos=e,$("body").addClass("is-fixed"),$("body").css({top:"-"+e+"px"})},release:function(){$("body").removeClass("is-fixed"),$("html,body").scrollTop(UPLINK.scrollBan._currentPos)}},UPLINK.slick={init:function(){UPLINK.slick.bind(),$(".js-slick").slick({infinite:!0,dots:!0,slidesToShow:1,centerMode:!0,prevArrow:"",nextArrow:"",variableWidth:!0,autoplay:!0,autoplaySpeed:4e3})},bind:function(){}},UPLINK.sticky={type:null,init:function(){UPLINK.sticky.type=UPLINK.getDisplayType.get($(window).width()),$(".js-sticky").stick_in_parent(),"pc"===UPLINK.sticky.type?$(".list-calendar-header-inner").stick_in_parent():$(".list-calendar-header").stick_in_parent()},resize:function(e){var a=UPLINK.getDisplayType.get(e);UPLINK.sticky.type!==a&&($(".js-sticky").trigger("sticky_kit:detach"),"pc"===UPLINK.sticky.type?$(".list-calendar-header-inner").trigger("sticky_kit:detach"):$(".list-calendar-header").trigger("sticky_kit:detach"),UPLINK.sticky.type=a,$(".js-sticky").stick_in_parent(),"pc"===UPLINK.sticky.type?$(".list-calendar-header-inner").stick_in_parent():$(".list-calendar-header").stick_in_parent())}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJtb2R1bGVzL2dldERpc3BsYXlUeXBlLmpzIiwibW9kdWxlcy9oZWFkZXIuanMiLCJtb2R1bGVzL3Njcm9sbEJhbi5qcyIsIm1vZHVsZXMvc2xpY2suanMiLCJtb2R1bGVzL3N0aWNreS5qcyJdLCJuYW1lcyI6WyJVUExJTksiLCJpbml0IiwiJCIsImJpbmQiLCJ3aW5kb3ciLCJvbiIsIm9ubG9hZCIsInRoaXMiLCJvbnNjcm9sbCIsIm9ucmVzaXplIiwic3RpY2t5IiwidGltZXIiLCJkb2N1bWVudCIsImNsZWFyVGltZW91dCIsImhyZWYiLCJhdHRyIiwidGFyZ2V0IiwiaGVhZGVyIiwiY2xvc2VNYWluTmF2IiwiY2xvc2VTdWJOYXYiLCJzZXRUaW1lb3V0IiwicG9zaXRpb24iLCJvZmZzZXQiLCJ0b3AiLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwiYmV6Iiwic2xpY2siLCJzdCIsInNjcm9sbCIsInd3Iiwid2lkdGgiLCJyZXNpemUiLCJnZXREaXNwbGF5VHlwZSIsImdldCIsInR5cGUiLCIkZWwiLCIkbWFpbiIsIiRzdWIiLCIkbWFpbkNsb25lIiwiJHN1YkNsb25lIiwic2xfbWFpbk5hdlRyaWdnZXIiLCJzbF9zdWJOYXZUcmlnZ2VyIiwibWFpbl9oZWlnaHQiLCJzdWJfaGVpZ2h0IiwiX3N0IiwiaXNTY3JvbGwiLCJpc0Zyb250UGFnZSIsImlzMm5kUGFnZSIsImlzM3JkUGFnZSIsImlzUEMiLCJpc1RCIiwiaXNTUCIsImRlZk1haW5PcGVuIiwiZGVmU3ViT3BlbiIsImlzTWFpbk5hdk9wZW4iLCJpc1N1Yk5hdk9wZW4iLCJsZW5ndGgiLCJjbG9uZSIsImFkZENsYXNzIiwiYXBwZW5kIiwid3JhcCIsIm9wZW5NYWluTmF2Iiwib3BlblN1Yk5hdiIsInNldFNpemUiLCJzZXREZWZhdWx0IiwiZG9Jbml0Iiwib3V0ZXJIZWlnaHQiLCJoZWlnaHQiLCJyZW1vdmVDbGFzcyIsInNodWZmbGVGYWRlaW4iLCJjc3MiLCJtYXJnaW4tdG9wIiwib3BhY2l0eTAiLCJzbCIsInNodWZmbGUiLCJNYXRoIiwicmFuZG9tIiwiY29udGVudCIsImVxIiwiZmluZCIsImRlbGF5IiwiQXJyYXkiLCJpIiwiZWFjaCIsInNvcnQiLCJqIiwib3BhY2l0eSIsInNjcm9sbEJhbiIsIl9jdXJyZW50UG9zIiwiYmFuIiwicmVsZWFzZSIsImluZmluaXRlIiwiZG90cyIsInNsaWRlc1RvU2hvdyIsImNlbnRlck1vZGUiLCJwcmV2QXJyb3ciLCJuZXh0QXJyb3ciLCJ2YXJpYWJsZVdpZHRoIiwiYXV0b3BsYXkiLCJhdXRvcGxheVNwZWVkIiwic3RpY2tfaW5fcGFyZW50IiwiX3R5cGUiLCJ0cmlnZ2VyIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUVBLElBQUFBLFVBRUFBLFNBQ0FDLEtBQUEsV0FDQUMsRUFBQSxXQUNBRixPQUFBRyxVQUlBQSxLQUFBLFdBQ0FELEVBQUFFLFFBQ0FDLEdBQUEsT0FBQSxXQUNBTCxPQUFBTSxTQUNBSixFQUFBSyxNQUNBRixHQUFBLFNBQUEsV0FDQUwsT0FBQVEsYUFFQUgsR0FBQSxTQUFBLFdBQ0FMLE9BQUFTLGVBTUFULE9BQUFVLE9BQUFULE1BRUEsSUFBQVUsR0FBQSxJQUVBVCxHQUFBVSxVQUFBUCxHQUFBLFFBQUEsZUFBQSxXQUNBTSxHQUFBRSxhQUFBRixFQUNBLElBQUFHLEdBQUFaLEVBQUFLLE1BQUFRLEtBQUEsUUFDQUMsRUFBQWQsRUFBQSxLQUFBWSxHQUFBLEtBQUFBLEVBQUEsT0FBQUEsRUFPQSxPQU5BZCxRQUFBaUIsT0FBQUMsZUFDQWxCLE9BQUFpQixPQUFBRSxjQUNBUixFQUFBUyxXQUFBLFdBQ0EsR0FBQUMsR0FBQUwsRUFBQU0sU0FBQUMsR0FDQXJCLEdBQUEsYUFBQXNCLFNBQUFDLFVBQUFKLEdBQUEsSUFBQW5CLEVBQUF3QixLQUFBLEdBQUEsRUFBQSxHQUFBLE1BQ0EsTUFDQSxLQUtBcEIsT0FBQSxXQUNBTixPQUFBMkIsTUFBQTFCLE9BQ0FELE9BQUFpQixPQUFBaEIsUUFHQU8sU0FBQSxXQUNBLEdBQUFvQixH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eUJBQUFtRyxtQkFJQXJFLE9BQUEsU0FBQUYsR0FDQSxHQUFBd0UsR0FBQXRHLE9BQUFpQyxlQUFBQyxJQUFBSixFQUNBOUIsUUFBQVUsT0FBQXlCLE9BQUFtRSxJQUlBcEcsRUFBQSxjQUFBcUcsUUFBQSxxQkFDQSxPQUFBdkcsT0FBQVUsT0FBQXlCLEtBQ0FqQyxFQUFBLCtCQUFBcUcsUUFBQSxxQkFFQXJHLEVBQUEseUJBQUFxRyxRQUFBLHFCQUVBdkcsT0FBQVUsT0FBQXlCLEtBQUFtRSxFQUdBcEcsRUFBQSxjQUFBbUcsa0JBQ0EsT0FBQXJHLE9BQUFVLE9BQUF5QixLQUNBakMsRUFBQSwrQkFBQW1HLGtCQUVBbkcsRUFBQSx5QkFBQW1HIiwiZmlsZSI6InNjcmlwdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBVUExJTksgPSB7fTtcblxuVVBMSU5LID0ge1xuICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAkKGZ1bmN0aW9uKCkge1xuICAgICAgVVBMSU5LLmJpbmQoKTtcbiAgICB9KTtcbiAgfSxcblxuICBiaW5kOiBmdW5jdGlvbigpIHtcbiAgICAkKHdpbmRvdylcbiAgICAub24oJ2xvYWQnLCBmdW5jdGlvbigpIHtcbiAgICAgIFVQTElOSy5vbmxvYWQoKTtcbiAgICAgICQodGhpcylcbiAgICAgIC5vbignc2Nyb2xsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIFVQTElOSy5vbnNjcm9sbCgpO1xuICAgICAgfSlcbiAgICAgIC5vbigncmVzaXplJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIFVQTElOSy5vbnJlc2l6ZSgpO1xuICAgICAgfSk7XG5cblxuICAgIH0pO1xuXG4gICAgVVBMSU5LLnN0aWNreS5pbml0KCk7XG5cbiAgICB2YXIgdGltZXIgPSBudWxsO1xuICAgIC8vIHNtb290aCBzY3JvbGxcbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnYVtocmVmXj1cIiNcIl0nLCBmdW5jdGlvbigpe1xuICAgICAgaWYodGltZXIpIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICB2YXIgaHJlZiA9ICQodGhpcykuYXR0cignaHJlZicpO1xuICAgICAgdmFyIHRhcmdldCA9ICQoaHJlZiA9PSAnIycgfHwgaHJlZiA9PT0gJycgPyAnaHRtbCcgOiBocmVmKTtcbiAgICAgIFVQTElOSy5oZWFkZXIuY2xvc2VNYWluTmF2KCk7XG4gICAgICBVUExJTksuaGVhZGVyLmNsb3NlU3ViTmF2KCk7XG4gICAgICB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBwb3NpdGlvbiA9IHRhcmdldC5vZmZzZXQoKS50b3A7XG4gICAgICAgICQoJ2h0bWwsYm9keScpLmFuaW1hdGUoe3Njcm9sbFRvcCA6IHBvc2l0aW9ufSwgMzAwLCAkLmJleihbLjgsIDAsIC4zLCAxXSkpO1xuICAgICAgfSwgMzAwKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcblxuICB9LFxuXG4gIG9ubG9hZDogZnVuY3Rpb24oKSB7XG4gICAgVVBMSU5LLnNsaWNrLmluaXQoKTtcbiAgICBVUExJTksuaGVhZGVyLmluaXQoKTtcbiAgfSxcblxuICBvbnNjcm9sbDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0ID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xuICAgIFVQTElOSy5oZWFkZXIuc2Nyb2xsKHN0KTtcbiAgfSxcblxuICBvbnJlc2l6ZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHd3ID0gJCh3aW5kb3cpLndpZHRoKCk7XG4gICAgVVBMSU5LLmhlYWRlci5yZXNpemUod3cpO1xuICAgIFVQTElOSy5zdGlja3kucmVzaXplKHd3KTtcbiAgfVxuXG5cbn07XG5cblVQTElOSy5pbml0KCk7XG4iLCJVUExJTksuZ2V0RGlzcGxheVR5cGUgPSB7XG5cbiAgZ2V0OiBmdW5jdGlvbih3dykge1xuICAgIHZhciB0eXBlID0gbnVsbDtcbiAgICBpZih3dyA8PSA3NjcpIHtcbiAgICAgIHR5cGUgPSAnc3AnO1xuICAgIH0gZWxzZSBpZig3NjggPD0gd3cgJiYgd3cgPD0gMTAyNCkge1xuICAgICAgdHlwZSA9ICd0Yic7XG4gICAgfSBlbHNlIGlmKDEwMjUgPCB3dykge1xuICAgICAgdHlwZSA9ICAncGMnO1xuICAgIH1cbiAgICAvLyBjb25zb2xlLmxvZygnZGlzcGxheSBzaXplIGlzICcrdHlwZSk7XG4gICAgcmV0dXJuIHR5cGU7XG4gIH1cblxufTtcbiIsIlVQTElOSy5oZWFkZXIgPSB7XG5cbiAgJGVsOiBudWxsLFxuICAkbWFpbjogbnVsbCxcbiAgJHN1YjogbnVsbCxcbiAgJG1haW5DbG9uZTogbnVsbCxcbiAgJHN1YkNsb25lOiBudWxsLFxuXG4gIHNsX21haW5OYXZUcmlnZ2VyOiBudWxsLFxuICBzbF9zdWJOYXZUcmlnZ2VyOiBudWxsLFxuXG4gIG1haW5faGVpZ2h0OiBudWxsLFxuICBzdWJfaGVpZ2h0OiBudWxsLFxuXG4gIF9zdDogMCxcblxuICBpc1Njcm9sbDogZmFsc2UsXG5cbiAgaXNGcm9udFBhZ2U6IGZhbHNlLFxuICBpczJuZFBhZ2U6IGZhbHNlLFxuICBpczNyZFBhZ2U6IGZhbHNlLFxuXG4gIGlzUEM6IGZhbHNlLFxuICBpc1RCOiBmYWxzZSxcbiAgaXNTUDogZmFsc2UsXG5cbiAgZGVmTWFpbk9wZW46IGZhbHNlLFxuICBkZWZTdWJPcGVuOiBmYWxzZSxcblxuICBpc01haW5OYXZPcGVuOiBmYWxzZSxcbiAgaXNTdWJOYXZPcGVuOiBmYWxzZSxcblxuICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICBVUExJTksuaGVhZGVyLiRlbCA9ICQoJy5qcy1oZWFkZXJXcmFwJyk7XG4gICAgVVBMSU5LLmhlYWRlci4kbWFpbiA9ICQoJy5sLW5hdicpO1xuICAgIFVQTElOSy5oZWFkZXIuJHN1YiA9ICQoJy5sLWhlYWRlcl9zdWInKTtcblxuICAgIFVQTElOSy5oZWFkZXIuc2xfbWFpbk5hdlRyaWdnZXIgPSAnLmpzLW1haW5OYXZUcmlnZ2VyJztcbiAgICBVUExJTksuaGVhZGVyLnNsX3N1Yk5hdlRyaWdnZXIgPSAnLmpzLXN1Yk5hdlRyaWdnZXInO1xuXG4gICAgVVBMSU5LLmhlYWRlci5pc0Zyb250UGFnZSA9ICQoJy50eXBlLWZyb250cGFnZScpLmxlbmd0aCA/IHRydWUgOiBmYWxzZTtcbiAgICBVUExJTksuaGVhZGVyLmlzMm5kUGFnZSA9ICQoJy50eXBlLTJuZCcpLmxlbmd0aCA/IHRydWUgOiBmYWxzZTtcbiAgICBVUExJTksuaGVhZGVyLmlzM3JkUGFnZSA9ICQoJy50eXBlLTNyZCcpLmxlbmd0aCA/IHRydWUgOiBmYWxzZTtcblxuICAgIC8vIOODoeOCpOODs+ODiuODk+OCkuOCr+ODreODvOODs1xuICAgIFVQTElOSy5oZWFkZXIuJG1haW5DbG9uZSA9IFVQTElOSy5oZWFkZXIuJG1haW4uY2xvbmUoKTtcbiAgICBVUExJTksuaGVhZGVyLiRtYWluQ2xvbmUuYWRkQ2xhc3MoJ2lzLWNsb25lJyk7XG4gICAgJCgnYm9keScpLmFwcGVuZChVUExJTksuaGVhZGVyLiRtYWluQ2xvbmUpO1xuICAgICQoJy5sLW5hdi5pcy1jbG9uZScpLndyYXAoJzxkaXYgY2xhc3M9XCJqcy1tYWluLWNsb25lXCI+PC9kaXY+Jyk7XG5cbiAgICAvLyDjgrXjg5bjg4rjg5PjgpLjgq/jg63jg7zjg7NcbiAgICBVUExJTksuaGVhZGVyLiRzdWJDbG9uZSA9IFVQTElOSy5oZWFkZXIuJHN1Yi5jbG9uZSgpO1xuICAgIFVQTElOSy5oZWFkZXIuJHN1YkNsb25lLmFkZENsYXNzKCdpcy1jbG9uZScpO1xuICAgICQoJ2JvZHknKS5hcHBlbmQoVVBMSU5LLmhlYWRlci4kc3ViQ2xvbmUpO1xuICAgICQoJy5sLWhlYWRlcl9zdWIuaXMtY2xvbmUnKS53cmFwKCc8ZGl2IGNsYXNzPVwianMtc3ViLWNsb25lXCI+PC9kaXY+Jyk7XG5cbiAgICBVUExJTksuaGVhZGVyLnJlc2l6ZSgkKHdpbmRvdykud2lkdGgoKSk7XG4gICAgVVBMSU5LLmhlYWRlci5zY3JvbGwoMCk7XG5cbiAgICBVUExJTksuaGVhZGVyLmJpbmQoKTtcbiAgfSxcblxuICBiaW5kOiBmdW5jdGlvbigpIHtcbiAgICAkKGRvY3VtZW50KVxuICAgIC5vbignY2xpY2snLCBVUExJTksuaGVhZGVyLnNsX21haW5OYXZUcmlnZ2VyLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmKFVQTElOSy5oZWFkZXIuaXNNYWluTmF2T3Blbikge1xuICAgICAgICBVUExJTksuaGVhZGVyLmNsb3NlTWFpbk5hdigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgVVBMSU5LLmhlYWRlci5vcGVuTWFpbk5hdigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pXG4gICAgLm9uKCdjbGljaycsIFVQTElOSy5oZWFkZXIuc2xfc3ViTmF2VHJpZ2dlciwgZnVuY3Rpb24oKSB7XG4gICAgICBpZihVUExJTksuaGVhZGVyLmlzU3ViTmF2T3Blbikge1xuICAgICAgICBVUExJTksuaGVhZGVyLmNsb3NlU3ViTmF2KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBVUExJTksuaGVhZGVyLm9wZW5TdWJOYXYoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcbiAgfSxcblxuICBzZXRTaXplOiBmdW5jdGlvbih3dykge1xuICAgIFVQTElOSy5oZWFkZXIuaXNQQyA9IGZhbHNlO1xuICAgIFVQTElOSy5oZWFkZXIuaXNUQiA9IGZhbHNlO1xuICAgIFVQTElOSy5oZWFkZXIuaXNTUCA9IGZhbHNlO1xuXG4gICAgdmFyIHR5cGUgPSBVUExJTksuZ2V0RGlzcGxheVR5cGUuZ2V0KHd3KTtcbiAgICBpZih0eXBlID09ICdzcCcpIFVQTElOSy5oZWFkZXIuaXNTUCA9IHRydWU7XG4gICAgaWYodHlwZSA9PSAndGInKSBVUExJTksuaGVhZGVyLmlzVEIgPSB0cnVlO1xuICAgIGlmKHR5cGUgPT0gJ3BjJykgVVBMSU5LLmhlYWRlci5pc1BDID0gdHJ1ZTtcbiAgfSxcblxuICBzZXREZWZhdWx0OiBmdW5jdGlvbigpIHtcbiAgICBVUExJTksuaGVhZGVyLmRlZk1haW5PcGVuID0gZmFsc2U7XG4gICAgVVBMSU5LLmhlYWRlci5kZWZTdWJPcGVuID0gZmFsc2U7XG5cbiAgICBpZihVUExJTksuaGVhZGVyLmlzRnJvbnRQYWdlKSB7XG4gICAgICBVUExJTksuaGVhZGVyLmRlZk1haW5PcGVuID0gdHJ1ZTtcblxuICAgIH0gZWxzZSBpZihVUExJTksuaGVhZGVyLmlzMm5kUGFnZSkge1xuICAgICAgaWYoVVBMSU5LLmhlYWRlci5pc1RCKSB7XG4gICAgICAgIFVQTElOSy5oZWFkZXIuZGVmU3ViT3BlbiA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYoVVBMSU5LLmhlYWRlci5pc1BDKSB7XG4gICAgICAgIFVQTElOSy5oZWFkZXIuZGVmTWFpbk9wZW4gPSB0cnVlO1xuICAgICAgICBVUExJTksuaGVhZGVyLmRlZlN1Yk9wZW4gPSB0cnVlO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIGlmKFVQTElOSy5oZWFkZXIuaXMzcmRQYWdlKSB7XG4gICAgICBpZihVUExJTksuaGVhZGVyLmlzUEMpIHtcbiAgICAgICAgVVBMSU5LLmhlYWRlci5kZWZNYWluT3BlbiA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIGRvSW5pdDogZnVuY3Rpb24oKSB7XG4gICAgLy8gY29uc29sZS5sb2coJ2RvaW5pdCcpO1xuICAgIC8vIGlmKFVQTElOSy5oZWFkZXIuaXNGcm9udFBhZ2UpIGNvbnNvbGUubG9nKCfjgIBpc0Zyb250UGFnZScpO1xuICAgIC8vIGlmKFVQTElOSy5oZWFkZXIuaXMybmRQYWdlKSBjb25zb2xlLmxvZygn44CAaXMybmRQYWdlJyk7XG4gICAgLy8gaWYoVVBMSU5LLmhlYWRlci5pczNyZFBhZ2UpIGNvbnNvbGUubG9nKCfjgIBpczNyZFBhZ2UnKTtcbiAgICAvLyBpZihVUExJTksuaGVhZGVyLmlzUEMpIGNvbnNvbGUubG9nKCfjgIBpc1BDJyk7XG4gICAgLy8gaWYoVVBMSU5LLmhlYWRlci5pc1RCKSBjb25zb2xlLmxvZygn44CAaXNUQicpO1xuICAgIC8vIGlmKFVQTElOSy5oZWFkZXIuaXNTUCkgY29uc29sZS5sb2coJ+OAgGlzU1AnKTtcbiAgICAvLyBpZihVUExJTksuaGVhZGVyLmRlZk1haW5PcGVuKSBjb25zb2xlLmxvZygn44CAZGVmTWFpbk9wZW4nKTtcbiAgICAvLyBpZihVUExJTksuaGVhZGVyLmRlZlN1Yk9wZW4pIGNvbnNvbGUubG9nKCfjgIBkZWZTdWJPcGVuJyk7XG4gICAgLy8gY29uc29sZS5sb2coJy0gLSAtIC0gLSAtIC0gLSAtIC0nKTtcblxuICAgIGlmKFVQTElOSy5oZWFkZXIuZGVmTWFpbk9wZW4pIHtcbiAgICAgIFVQTElOSy5oZWFkZXIub3Blbk1haW5OYXYoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgVVBMSU5LLmhlYWRlci5jbG9zZU1haW5OYXYoKTtcbiAgICB9XG4gICAgaWYoVVBMSU5LLmhlYWRlci5kZWZTdWJPcGVuKSB7XG4gICAgICBVUExJTksuaGVhZGVyLm9wZW5TdWJOYXYoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgVVBMSU5LLmhlYWRlci5jbG9zZVN1Yk5hdigpO1xuICAgIH1cbiAgfSxcblxuICByZXNpemU6IGZ1bmN0aW9uKHd3KSB7XG4gICAgVVBMSU5LLmhlYWRlci5tYWluX2hlaWdodCA9IFVQTElOSy5oZWFkZXIuJG1haW5DbG9uZS5vdXRlckhlaWdodCgpO1xuICAgIFVQTElOSy5oZWFkZXIuc3ViX2hlaWdodCA9IFVQTElOSy5oZWFkZXIuJHN1YkNsb25lLmhlaWdodCgpO1xuICAgIFVQTElOSy5oZWFkZXIuc2V0U2l6ZSh3dyk7XG4gICAgVVBMSU5LLmhlYWRlci5zZXREZWZhdWx0KCk7XG4gICAgVVBMSU5LLmhlYWRlci5zY3JvbGwoVVBMSU5LLmhlYWRlci5fc3QpO1xuICB9LFxuXG4gIHNjcm9sbDogZnVuY3Rpb24oc3QpIHtcbiAgICBpZihzdCA+IDMwMCkge1xuICAgICAgJCgnYm9keScpLmFkZENsYXNzKCdpcy1zY3JvbGwnKTtcbiAgICAgIFVQTElOSy5oZWFkZXIuaXNTY3JvbGwgPSB0cnVlO1xuICAgICAgaWYoVVBMSU5LLmhlYWRlci5pc01haW5OYXZPcGVuKSBVUExJTksuaGVhZGVyLmNsb3NlTWFpbk5hdigpO1xuICAgICAgaWYoVVBMSU5LLmhlYWRlci5pc1N1Yk5hdk9wZW4pIFVQTElOSy5oZWFkZXIuY2xvc2VTdWJOYXYoKTtcbiAgICAgIGlmKHN0IDwgVVBMSU5LLmhlYWRlci5fc3QgKSB7XG4gICAgICAgICQoJ2JvZHknKS5hZGRDbGFzcygnaXMtbmF2Zml4ZWQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnaXMtbmF2Zml4ZWQnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgVVBMSU5LLmhlYWRlci5pc1Njcm9sbCA9IGZhbHNlO1xuICAgICAgJCgnYm9keScpXG4gICAgICAgIC5yZW1vdmVDbGFzcygnaXMtc2Nyb2xsJylcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdpcy1uYXZmaXhlZCcpO1xuICAgICAgVVBMSU5LLmhlYWRlci5kb0luaXQoKTsgLy8g44K544Kv44Ot44O844OrMOOBrumWi+OBjeaWueOBq+aIu+OBmVxuICAgIH1cblxuICAgIGlmKHN0ID4gNDAwKSB7XG4gICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcbiAgICAgICAgJCgnYm9keScpLmFkZENsYXNzKCdpcy1zdWJOYXZUcmlnZ2VyRml4Jyk7XG4gICAgICB9LDEwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnaXMtc3ViTmF2VHJpZ2dlckZpeCcpO1xuICAgIH1cblxuICAgIFVQTElOSy5oZWFkZXIuX3N0ID0gc3Q7XG4gIH0sXG5cbiAgb3Blbk1haW5OYXY6IGZ1bmN0aW9uKCkge1xuICAgIFVQTElOSy5oZWFkZXIuaXNNYWluTmF2T3BlbiA9IHRydWU7XG4gICAgJCgnYm9keScpLmFkZENsYXNzKCdtYWluLW9wZW4nKTtcbiAgICBpZighVVBMSU5LLmhlYWRlci5pc1Njcm9sbCkge1xuICAgICAgVVBMSU5LLmhlYWRlci4kZWwuY3NzKHtcbiAgICAgICAgJ21hcmdpbi10b3AnOiAnMHB4J1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIFVQTElOSy5oZWFkZXIuc2h1ZmZsZUZhZGVpbignLmwtbmF2LmlzLWNsb25lJyk7XG4gICAgfVxuICB9LFxuXG4gIGNsb3NlTWFpbk5hdjogZnVuY3Rpb24oKSB7XG4gICAgVVBMSU5LLmhlYWRlci5pc01haW5OYXZPcGVuID0gZmFsc2U7XG4gICAgVVBMSU5LLmhlYWRlci5vcGFjaXR5MCgnLmwtbmF2LmlzLWNsb25lJyk7XG4gICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdtYWluLW9wZW4nKTtcbiAgICBpZighVVBMSU5LLmhlYWRlci5pc1Njcm9sbCkge1xuICAgICAgVVBMSU5LLmhlYWRlci4kZWwuY3NzKHtcbiAgICAgICAgJ21hcmdpbi10b3AnOiAtIFVQTElOSy5oZWFkZXIubWFpbl9oZWlnaHQgKyAncHgnXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgb3BlblN1Yk5hdjogZnVuY3Rpb24oKSB7XG4gICAgaWYoVVBMSU5LLmhlYWRlci4kc3ViLmxlbmd0aCkge1xuICAgICAgVVBMSU5LLmhlYWRlci5pc1N1Yk5hdk9wZW4gPSB0cnVlO1xuICAgICAgJCgnYm9keScpLmFkZENsYXNzKCdzdWItb3BlbicpO1xuICAgICAgaWYoIVVQTElOSy5oZWFkZXIuaXNTY3JvbGwpIHtcbiAgICAgICAgVVBMSU5LLmhlYWRlci4kc3ViLmNzcyh7XG4gICAgICAgICAgJ2hlaWdodCc6IFVQTElOSy5oZWFkZXIuc3ViX2hlaWdodCArICdweCdcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBVUExJTksuaGVhZGVyLnNodWZmbGVGYWRlaW4oJy5pcy1jbG9uZSAubC1uYXZfc3ViJyk7XG4gICAgICAgICQoJ2JvZHknKS5hZGRDbGFzcygnaXMtbmF2Zml4ZWQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgY2xvc2VTdWJOYXY6IGZ1bmN0aW9uKCkge1xuICAgIGlmKFVQTElOSy5oZWFkZXIuJHN1Yi5sZW5ndGgpIHtcbiAgICAgIFVQTElOSy5oZWFkZXIuaXNTdWJOYXZPcGVuID0gZmFsc2U7XG4gICAgICBVUExJTksuaGVhZGVyLm9wYWNpdHkwKCcuaXMtY2xvbmUgLmwtbmF2X3N1YicpO1xuICAgICAgaWYoIVVQTElOSy5oZWFkZXIuaXNTY3JvbGwpIHtcbiAgICAgICAgVVBMSU5LLmhlYWRlci4kc3ViLmNzcyh7XG4gICAgICAgICAgJ2hlaWdodCc6IDEwMCsncHgnXG4gICAgICAgIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ2lzLW5hdmZpeGVkJyk7XG4gICAgICB9XG4gICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ3N1Yi1vcGVuJyk7XG4gICAgfVxuICB9LFxuXG4gIHNodWZmbGVGYWRlaW46IGZ1bmN0aW9uKHNsKSB7XG4gICAgLy8gVE9ETyDjgoLjgaPjgajnsKHmmJPljJbjgafjgY3jgZ3jgYZcbiAgICB2YXIgc2h1ZmZsZSA9IGZ1bmN0aW9uKCkge3JldHVybiBNYXRoLnJhbmRvbSgpLS41fTtcbiAgICB2YXIgY29udGVudCA9ICQoc2wpLmVxKDApLmZpbmQoJ2EsIC5mb3JtLWdvb2dsZXNlYXJjaC10ZXh0LCAuZm9ybS1nb29nbGVzZWFyY2gnKTtcbiAgICB2YXIgdG90YWwgPSBjb250ZW50Lmxlbmd0aDtcbiAgICB2YXIgZGVsYXkgPSBuZXcgQXJyYXkoKTtcblxuICAgIHZhciBpID0gMDtcbiAgICBjb250ZW50LmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICBkZWxheVtpXSA9IDUwMCArIGkgKiAzMDtcbiAgICAgIGkrKztcbiAgICB9KTtcbiAgICBkZWxheSA9IGRlbGF5LnNvcnQoc2h1ZmZsZSk7XG5cbiAgICB2YXIgaiA9IDA7XG4gICAgY29udGVudC5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgY29udGVudC5lcShqKS5kZWxheShkZWxheVtqXSkuYW5pbWF0ZSh7J29wYWNpdHknOiAxfSwzMCk7XG4gICAgICBqKys7XG4gICAgfSk7XG4gIH0sXG5cbiAgb3BhY2l0eTA6IGZ1bmN0aW9uKHNsKSB7XG4gICAgLy8gVE9ETyDjgoLjgaPjgajnsKHmmJPljJbjgafjgY3jgZ3jgYZcbiAgICB2YXIgY29udGVudCA9ICQoc2wpLmVxKDApLmZpbmQoJ2EsIC5mb3JtLWdvb2dsZXNlYXJjaC10ZXh0LCAuZm9ybS1nb29nbGVzZWFyY2gnKTtcbiAgICBjb250ZW50LmNzcyh7J29wYWNpdHknOiAwfSk7XG4gIH0sXG5cblxuXG59IiwiVVBMSU5LLnNjcm9sbEJhbiA9IHtcblxuICBfY3VycmVudFBvczogMCxcblxuICBpbml0OiBmdW5jdGlvbigpIHtcbiAgfSxcblxuICBiYW46IGZ1bmN0aW9uKHN0KSB7XG4gICAgVVBMSU5LLnNjcm9sbEJhbi5fY3VycmVudFBvcyA9IHN0O1xuICAgICQoJ2JvZHknKS5hZGRDbGFzcygnaXMtZml4ZWQnKTtcbiAgICAkKCdib2R5JykuY3NzKHtcbiAgICAgIHRvcDogJy0nICsgc3QgKyAncHgnXG4gICAgfSk7XG4gIH0sXG5cbiAgcmVsZWFzZTogZnVuY3Rpb24oKXtcbiAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ2lzLWZpeGVkJyk7XG4gICAgJCgnaHRtbCxib2R5Jykuc2Nyb2xsVG9wKFVQTElOSy5zY3JvbGxCYW4uX2N1cnJlbnRQb3MpO1xuICB9XG5cbn07XG4iLCJVUExJTksuc2xpY2sgPSB7XG5cbiAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgVVBMSU5LLnNsaWNrLmJpbmQoKTtcbiAgICAkKCcuanMtc2xpY2snKS5zbGljayh7XG4gICAgICBpbmZpbml0ZTogdHJ1ZSxcbiAgICAgIGRvdHM6IHRydWUsXG4gICAgICBzbGlkZXNUb1Nob3c6IDEsXG4gICAgICBjZW50ZXJNb2RlOiB0cnVlLCAvL+imgee0oOOCkuS4reWkruWvhOOBm1xuICAgICAgLy8gY2VudGVyUGFkZGluZzogcGFkZGluZyArICdweCcsIC8v5Lih44K144Kk44OJ44Gu6KaL44GI44Gm44GE44KL6YOo5YiG44Gu44K144Kk44K6XG4gICAgICBwcmV2QXJyb3c6ICcnLFxuICAgICAgbmV4dEFycm93OiAnJyxcbiAgICAgIHZhcmlhYmxlV2lkdGg6IHRydWUsXG4gICAgICBhdXRvcGxheTogdHJ1ZSxcbiAgICAgIGF1dG9wbGF5U3BlZWQ6IDQwMDAsXG4gICAgfSk7XG4gIH0sXG5cbiAgYmluZDogZnVuY3Rpb24oKSB7XG4gIH1cblxufTtcbiIsIlVQTElOSy5zdGlja3kgPSB7XG5cbiAgdHlwZTogbnVsbCxcblxuICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICBVUExJTksuc3RpY2t5LnR5cGUgPSBVUExJTksuZ2V0RGlzcGxheVR5cGUuZ2V0KCQod2luZG93KS53aWR0aCgpKTtcblxuICAgICQoJy5qcy1zdGlja3knKS5zdGlja19pbl9wYXJlbnQoKTsgLy8g5rGO55SoXG4gICAgaWYoVVBMSU5LLnN0aWNreS50eXBlID09PSAncGMnKSB7XG4gICAgICAkKCcubGlzdC1jYWxlbmRhci1oZWFkZXItaW5uZXInKS5zdGlja19pbl9wYXJlbnQoKTsgLy8g44Kr44Os44Oz44OA44O8dGIvcGNcbiAgICB9IGVsc2Uge1xuICAgICAgJCgnLmxpc3QtY2FsZW5kYXItaGVhZGVyJykuc3RpY2tfaW5fcGFyZW50KCk7IC8vIOOCq+ODrOODs+ODgOODvHNwXG4gICAgfVxuICB9LFxuXG4gIHJlc2l6ZTogZnVuY3Rpb24od3cpIHtcbiAgICB2YXIgX3R5cGUgPSBVUExJTksuZ2V0RGlzcGxheVR5cGUuZ2V0KHd3KTtcbiAgICBpZihVUExJTksuc3RpY2t5LnR5cGUgIT09IF90eXBlKSB7XG4gICAgICAvLyBjb25zb2xlLmxvZygnY2hhbmdlIHN0aWNreS10eXBlJyk7XG5cbiAgICAgIC8vIOOCueODhuOCo+ODg+OCreODvOOBruino+mZpFxuICAgICAgJCgnLmpzLXN0aWNreScpLnRyaWdnZXIoJ3N0aWNreV9raXQ6ZGV0YWNoJyk7IC8vIOaxjueUqFxuICAgICAgaWYoVVBMSU5LLnN0aWNreS50eXBlID09PSAncGMnKSB7XG4gICAgICAgICQoJy5saXN0LWNhbGVuZGFyLWhlYWRlci1pbm5lcicpLnRyaWdnZXIoXCJzdGlja3lfa2l0OmRldGFjaFwiKTsgLy8g44Kr44Os44Oz44OA44O8dGIvcGNcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQoJy5saXN0LWNhbGVuZGFyLWhlYWRlcicpLnRyaWdnZXIoXCJzdGlja3lfa2l0OmRldGFjaFwiKTsgLy8g44Kr44Os44Oz44OA44O8c3BcbiAgICAgIH1cbiAgICAgIFVQTElOSy5zdGlja3kudHlwZSA9IF90eXBlO1xuXG4gICAgICAvLyDjgrnjg4bjgqPjg4Pjgq3jg7zlho3oqK3lrppcbiAgICAgICQoJy5qcy1zdGlja3knKS5zdGlja19pbl9wYXJlbnQoKTsgLy8g5rGO55SoXG4gICAgICBpZihVUExJTksuc3RpY2t5LnR5cGUgPT09ICdwYycpIHtcbiAgICAgICAgJCgnLmxpc3QtY2FsZW5kYXItaGVhZGVyLWlubmVyJykuc3RpY2tfaW5fcGFyZW50KCk7IC8vIOOCq+ODrOODs+ODgOODvHRiL3BjXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKCcubGlzdC1jYWxlbmRhci1oZWFkZXInKS5zdGlja19pbl9wYXJlbnQoKTsgLy8g44Kr44Os44Oz44OA44O8c3BcbiAgICAgIH1cbiAgICB9XG4gIH1cblxufTtcbiJdfQ==
